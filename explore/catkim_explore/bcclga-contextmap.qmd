---
title: "BCC LGA context map"
author: "CatherineKim"
format: html
editor: visual
---

## Context map for Brisbane City Council Local Government Area (LGA)


```{r}
library(ozmaps)
library(ggplot2)
library(sf)
library(here)
```

You can add options to executable code like this

```{r}
ozmap()
```

```{r}
sf_oz <- ozmap_data("states")
BRIS <- read_sf(here("data/spatial/SA1_Bris/BCC_sa1.gpkg"))

ggplot(sf_oz) + 
  geom_sf(fill = NA) +
  geom_sf(data = BRIS, color = "red") +
  theme_void()
ggsave(here("data/spatial/SA1_Bris/BCC_context.svg"))
```

Brisbane City Council with red outline.

```{r}
BRIS_outline <- st_union(BRIS)

ggplot() + 
  geom_sf(data = BRIS_outline, color = "red", fill = NA, size = 2)+
  theme_void()
ggsave(here("data/spatial/SA1_Bris/BCC_outline.png"))
```


```{r}
library(dplyr)
kbor <- abs_lga %>% dplyr::filter(grepl("Kingborough", NAME))
bb <- st_bbox(kbor)

layout(matrix(c(1, 1, 1, 2, 2, 2, 2, 2, 2), nrow = 3))
plot(kbor, reset = FALSE, main = "Kingborough (TAS)")
rect(bb["xmin"], bb["ymin"], bb["xmax"], bb["ymax"])
library(mapdata)

par(mar = rep(0, 4))
plot(c(145, 148.5), c(-43.6, -40.8), type = "n", asp = 1/cos(mean(bb[c(2, 4)]) * pi/180), axes = FALSE, xlab = "", ylab = "")
maps::map(database = "worldHires", regions = "australia", xlim = c(145, 148.5), ylim = c(-43.6, -40.8), add = TRUE)
rect(bb["xmin"], bb["ymin"], bb["xmax"], bb["ymax"])
```

```{r}
BRIS <- read_sf("../../data/spatial/SA1_Bris/BCC_sa1.gpkg")

ggplot() +
  geom_sf(data = BRIS, fill = NA) +
  theme_void()

ggsave("../../scripts/4_vulnerability/figures/BCC_SA1.svg")
```

